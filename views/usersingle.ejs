<% include ./partials/header.ejs %>
<style>
  
  form label:first-of-type {
    margin-top: 0;
  }
  
 
  
  .input,
  select,
  textarea,
  button {
    width: 100%;
    max-width: 500px;
    min-height: 32px;
    margin-top: 2px;
    padding: 8px 8px;
    border-radius: 4px;
    border: 0;
    color: black;
    font-family: Inter, sans-serif;
    font-size: 14px;
    box-sizing: border-box;
  }
  
  fieldset {
    border: 0;
    padding: 0;
    margin: 0;
  }
  
  fieldset .input {
    min-height: unset;
    width: 15px;
    height: 15px;
    vertical-align: text-line;
  }
  
  fieldset label {
    margin: 4px 0;
  }
  
  legend {
    font-size: 18px;
    margin-bottom: 8px;
  }
  
  button {
    padding: 12px;
    background-color: rgb(0, 170, 0);
  
  }
  
</style>
<div class="div">
  <nav class="flex h-fit flex-col">
    <div
      class="div flex bg-zinc-100 text-[#000] items-center justify-between py-5 px-5 lg:px-14"
    >
      <div class="left">
        <a
          class="text-bold inline-flex text-xl font-bold items-center"
          href="/"
        >
          <img
            class="h-16 w-24"
            src="/images/20230430_211720_0000-removebg-preview.png"
            alt=""
          />
          Tune <span>Music</span></a
        >
      </div>
      <div class="right">
        <ul
          class="flex lg:text-lg text-lg md:text-sm md:gap-5 font-['gilroy'] gap-8 items-center"
        >
          <li class="font-bold"><a href="/"> Home</a></li>
          <li class="font-bold"><a href="/userprofile">Dashboard</a></li>
          <li class="font-bold"><a href="/uploadMusic">Upload Songs</a></li>
          <li class="font-bold"><a href="/songs">Your Songs</a></li>

          <% if(loggedInUser) { %>
          <li class="font-bold"><a href="/logout">Logout</a></li>
          <% } else { %>
          <li class="font-bold"><a href="/login">Login</a></li>
          <% } %>

          <h4><i id="menu-btn" class="ri-menu-line"></i></h4>
        </ul>
      </div>
    </div>
  </nav>
  <div id="slidebar" class="text-black bg-zinc-100">
    <div class="left">
      <a
        class="text-bold inline-flex text-2xl items-center justify-center"
        href="/"
      >
        <img
          class="h-16 w-24"
          src="/images/20230430_211720_0000-removebg-preview.png"
          alt=""
        />
        Tune <span>Music</span></a
      >
    </div>
    <a href="/"> <i class="ri-home-5-fill pr-2"></i> Home</a>
    <a href="/userprofile"> <i class="ri-home-5-fill pr-2"></i> Dashboard</a>
    <a href="/uploadMusic"
      ><i class="ri-phone-camera-fill pr-2"></i>Upload Songs</a
    >
    <a href="/songs"> <i class="ri-gallery-line pr-2"></i>Your Songs</a>

    <!-- <a href="/register">Register</a> -->
    <% if(loggedInUser) { %>
    <a href="/logout"><i class="ri-logout-box-line pr-2"></i>Logout</a>
    <% } else { %>
    <a href="/login"><i class="ri-login-box-line pr-2"></i>Login</a>
    <% } %>
  </div>
  <div class="div p-5 h-full w-full">
    <div
      class="flex flex-col h-[80vh] w-full rounded-lg text-surface shadow-secondary-1 dark:bg-surface-dark dark:text-black md:flex-row"
    >
      <img
        class="rounded-lg object-cover md:h-auto md:w-[30vw]  "
        src="<%=song.posterUrl%>"
        alt=""
      />
      <div class="flex flex-col gap-3 justify-start p-6">
  
        <div id="survey-form" action="/uploadMusic" enctype="multipart/form-data" class="flex flex-col  gap-5"  method="post">
          <div class="grid gap-8 px-5 py-10 rounded-lg bg-zinc-200 grid-cols-2">

              <div class="div ">
                  <label id="name-label"  for="name"
                    >Song Title</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.title%></div>
                  
              </div>
           
             
              <div class="div">
                  <label id="name-label"  for="name"
                    >Artist Name</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.artistName%></div>
              </div>
             
              <div class="div">
                  <label id="name-label"  for="name"
                    >Instagram Id</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.instagramId%></div>

              </div>
              <div class="div">
                  <label id="name-label"  for="name"
                    >ISRC Code</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.isrcCode%></div>

              </div>
              <div class="div">
                  <label id="name-label"  for="name"
                    >UPC Code</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.upcCode%></div>

              </div>
              <div class="div">
                  <label id="name-label"  for="name"
                    >Genre</label>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=song.genre%></div>

              </div>
              <div class="div">
                  <label id="name-label"  for="name"
                    >Release Date</label>
                    <% 
                    // Assuming event.eventDate is a JavaScript Date object
                    const options = { year: 'numeric', month: 'numeric', day: 'numeric' };
                    const formattedDate = song.releaseDate.toLocaleDateString(undefined, options);
                %>
                    <div  class=" input rounded-lg bg-zinc-100" ><%=formattedDate%></div>
              </div>
             
          </div>    
          <p class="mb-4 text-base">
            The song status is
            <span class="uppercase text-lg font-semibold">
              <% if (song.status === 'pending') { %>
              <a
                class="items-center py-2 font-medium text-lg text-center text-black"
              >
                Pending
              </a>
              <% } else if (song.status === 'approve') { %>
              <a
                class="items-center py-2 text-lg font-medium text-center text-black rounded-lg focus:ring-4 focus:outline-none focus:ring-blue-300"
              >
                Approved
              </a>
              <% } else if (song.status === 'reject') { %>
              <a
                href="#"
                class="items-center py-2 text-lg font-medium text-center text-black"
              >
                Rejected
              </a>
              <% } %>
            </span>
          </p>
        </div>
      </div>
      <div class="div pt-6 px-5">

        <div class="div rounded-lg bg-zinc-200 p-5">
  <h1><%=song.title%></h1>
          <audio class="text-black pt-5" controls>
            <source src="/stream/<%= song._id %>" type="audio/mpeg" />
            Your browser does not support the audio element.
          </audio>
        </div>
      </div>

    </div>
  </div>
  
</div>

<script src="/javascripts/sidebar.js"></script>
